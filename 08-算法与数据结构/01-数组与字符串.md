# 数组与字符串

## 基本概念

### 数组

数组是最基础的数据结构之一，在JavaScript中具有以下特点：

- 有序的元素集合，可通过索引直接访问
- JavaScript中的数组是动态的，长度可变
- 可以存储不同类型的元素
- 提供丰富的内置方法（如map、filter、reduce等）

### 字符串

字符串是由字符组成的序列，在JavaScript中：

- 不可变类型，修改字符串实际上是创建新字符串
- 可以像数组一样通过索引访问字符
- 提供多种内置方法（如split、substring、replace等）

## 常见数组操作

### 1. 遍历数组

```javascript
// 传统for循环
for (let i = 0; i < arr.length; i++) {
  console.log(arr[i]);
}

// forEach方法
arr.forEach((item, index) => {
  console.log(item, index);
});

// for...of循环
for (const item of arr) {
  console.log(item);
}
```

### 2. 数组转换

```javascript
// map: 映射数组元素
const newArr = arr.map(item => item * 2);

// filter: 过滤数组元素
const filteredArr = arr.filter(item => item > 5);

// reduce: 归约数组元素
const sum = arr.reduce((acc, cur) => acc + cur, 0);
```

### 3. 数组查找

```javascript
// indexOf: 查找元素索引
const index = arr.indexOf(5);

// find: 查找满足条件的第一个元素
const found = arr.find(item => item > 3);

// some: 检查是否至少有一个元素满足条件
const hasLarge = arr.some(item => item > 10);

// every: 检查是否所有元素都满足条件
const allPositive = arr.every(item => item > 0);
```

## 常见字符串操作

### 1. 字符串查找

```javascript
// indexOf: 查找子字符串位置
const pos = str.indexOf('hello');

// includes: 检查是否包含子字符串
const hasWorld = str.includes('world');

// startsWith/endsWith: 检查开头/结尾
const startsWithH = str.startsWith('h');
const endsWithD = str.endsWith('d');
```

### 2. 字符串转换

```javascript
// split: 分割字符串为数组
const parts = str.split(',');

// substring/slice: 提取子字符串
const sub = str.substring(1, 5);
const sliced = str.slice(1, 5);

// replace: 替换子字符串
const replaced = str.replace('old', 'new');

// toUpperCase/toLowerCase: 大小写转换
const upper = str.toUpperCase();
const lower = str.toLowerCase();
```

## 前端常见算法题

### 1. 数组去重

```javascript
// 使用Set
function uniqueArray(arr) {
  return [...new Set(arr)];
}

// 使用filter
function uniqueArray(arr) {
  return arr.filter((item, index) => arr.indexOf(item) === index);
}
```

### 2. 数组扁平化

```javascript
// 使用flat方法
const flattened = arr.flat(Infinity);

// 递归实现
function flattenArray(arr) {
  return arr.reduce((acc, cur) => {
    return acc.concat(Array.isArray(cur) ? flattenArray(cur) : cur);
  }, []);
}
```

### 3. 回文字符串判断

```javascript
function isPalindrome(str) {
  // 移除非字母数字字符并转为小写
  const processed = str.replace(/[^\w]/g, '').toLowerCase();
  return processed === processed.split('').reverse().join('');
}
```

### 4. 字符串模式匹配（KMP算法）

```javascript
function kmpSearch(text, pattern) {
  if (pattern.length === 0) return 0;

  // 构建部分匹配表
  const lps = Array(pattern.length).fill(0);
  let prevLPS = 0;
  let i = 1;

  while (i < pattern.length) {
    if (pattern[i] === pattern[prevLPS]) {
      lps[i] = prevLPS + 1;
      prevLPS++;
      i++;
    } else if (prevLPS === 0) {
      lps[i] = 0;
      i++;
    } else {
      prevLPS = lps[prevLPS - 1];
    }
  }

  // 搜索模式
  let textIndex = 0;
  let patternIndex = 0;

  while (textIndex < text.length) {
    if (pattern[patternIndex] === text[textIndex]) {
      patternIndex++;
      textIndex++;
    }

    if (patternIndex === pattern.length) {
      return textIndex - patternIndex;
    } else if (textIndex < text.length && pattern[patternIndex] !== text[textIndex]) {
      if (patternIndex !== 0) {
        patternIndex = lps[patternIndex - 1];
      } else {
        textIndex++;
      }
    }
  }

  return -1;
}
```

## 复杂度分析

### 数组操作的时间复杂度

| 操作 | 时间复杂度 | 说明 |
|------|------------|------|
| 访问元素 | O(1) | 通过索引直接访问 |
| 查找元素 | O(n) | 需要遍历数组 |
| 插入元素（末尾） | O(1) | 直接添加到末尾 |
| 插入元素（中间） | O(n) | 需要移动后续元素 |
| 删除元素（末尾） | O(1) | 直接移除末尾元素 |
| 删除元素（中间） | O(n) | 需要移动后续元素 |

### 字符串操作的时间复杂度

| 操作 | 时间复杂度 | 说明 |
|------|------------|------|
| 访问字符 | O(1) | 通过索引直接访问 |
| 查找子串 | O(n*m) | n为字符串长度，m为子串长度 |
| 连接字符串 | O(n+m) | n和m为两个字符串的长度 |
| 替换子串 | O(n) | n为字符串长度 |

## 前端应用场景

### 数组应用

1. **列表渲染**：使用map方法将数据数组转换为JSX/模板元素
2. **数据过滤**：使用filter实现搜索、筛选功能
3. **数据统计**：使用reduce计算总和、平均值等
4. **状态管理**：不可变数据操作（如Redux中的数组更新）
5. **虚拟列表**：处理大型数据集的高效渲染

### 字符串应用

1. **表单验证**：正则表达式匹配、格式检查
2. **URL解析**：分割和提取URL参数
3. **模板引擎**：字符串替换和插值
4. **国际化**：字符串格式化和本地化
5. **富文本处理**：HTML字符串解析和转换

## 面试常见问题

1. 如何实现数组去重？有哪些不同的方法？
2. 如何判断两个字符串是否为变位词（字母相同，顺序不同）？
3. 实现一个函数，找出数组中第k大的元素
4. 如何检测回文字符串？考虑各种边界情况
5. 实现一个函数，将驼峰命名转换为下划线命名（如camelCase转为camel_case）
6. 如何找出字符串中的最长不重复子串？
7. 实现一个函数，判断括号是否匹配（如"({[]})"是匹配的）
8. 如何合并两个有序数组？
9. 实现一个简化版的模板字符串替换函数
10. 如何在前端高效处理大型数组数据？

## 学习资源

- [JavaScript数据结构与算法](https://github.com/trekhleb/javascript-algorithms) - GitHub上的JS算法实现集合
- [LeetCode前端面试题集](https://leetcode.com/tag/javascript/) - 针对前端的算法练习
- [前端算法系统练习指南](https://juejin.cn/post/6844904061947346957) - 系统学习前端算法的路线图
- [JavaScript数组方法速查表](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array) - MDN上的数组方法文档